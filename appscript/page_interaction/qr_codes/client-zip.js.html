<script>
window.exported = {};
exported.__esModule = true;
exported.downloadZip = void 0;
// https://github.com/Touffy/client-zip/
"stream"in Blob.prototype||Object.defineProperty(Blob.prototype,"stream",{value(){return new Response(this).body}});const e=e=>new DataView(new ArrayBuffer(e)),n=e=>new Uint8Array(e.buffer||e);function o(e,o,a){if(void 0===o||o instanceof Uint8Array||(o=r(o)),void 0===a||a instanceof Date||(a=new Date(a)),e instanceof File)return{o:o||r(e.name),i:a||new Date(e.lastModified),A:e.stream()};if(e instanceof Response){const n=e.headers.get("content-disposition"),i=n&&n.match(/;\s*filename\*?=["']?(.*?)["']?$/i),s=i&&i[1]||new URL(e.url).pathname.split("/").pop(),A=s&&decodeURIComponent(s);return{o:o||r(A),i:a||new Date(e.headers.get("Last-Modified")||Date.now()),A:e.body}}if(!o||0===o.length)throw new Error("The file must have a name.");if(void 0===a)a=new Date;else if(isNaN(a))throw new Error("Invalid modification date.");if("string"==typeof e)return{o,i:a,A:r(e)};if(e instanceof Blob)return{o,i:a,A:e.stream()};if(e instanceof Uint8Array||e instanceof ReadableStream)return{o,i:a,A:e};if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return{o,i:a,A:n(e)};if(Symbol.asyncIterator in e)return{o,i:a,A:i(e)};throw new TypeError("Unsupported input format.")}function i(e){const n="next"in e?e:e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){let o=0;for(;e.desiredSize>o;){const i=await n.next();if(!i.value){e.close();break}{const n=a(i.value);e.enqueue(n),o+=n.byteLength}}}})}function a(e){return"string"==typeof e?r(e):e instanceof Uint8Array?e:n(e)}function r(e){return(new TextEncoder).encode(String(e))}const s=new WebAssembly.Instance(new WebAssembly.Module(Uint8Array.from(atob("AGFzbQEAAAABCgJgAABgAn9/AXwDAwIAAQUDAQACBw0DAW0CAAF0AAABYwABCpUBAkkBA38DQCABIQBBACECA0AgAEEBdiAAQQFxQaCG4u1+bHMhACACQQFqIgJBCEcNAAsgAUECdCAANgIAIAFBAWoiAUGAAkcNAAsLSQEBfyABQX9zIQFBgIAEIQJBgIAEIABqIQADQCABQf8BcSACLQAAc0ECdCgCACABQQh2cyEBIAJBAWoiAiAASQ0ACyABQX9zuAs"),(e=>e.charCodeAt(0))))),{t,c,m}=s.exports;t();const A=n(m).subarray(65536);function f(e,n=0){for(const o of function*(e){for(;e.length>65536;)yield e.subarray(0,65536),e=e.subarray(65536);e.length&&(yield e)}(e))A.set(o),n=c(o.length,n);return n}function d(e,n,o=0){const i=e.getSeconds()>>1|e.getMinutes()<<5|e.getHours()<<11,a=e.getDate()|e.getMonth()+1<<5|e.getFullYear()-1980<<9;n.setUint16(o,i,1),n.setUint16(o+2,a,1)}function y(o){const i=e(30);return i.setUint32(0,1347093252),i.setUint32(4,335546368),d(o.i,i,10),i.setUint16(26,o.o.length,1),n(i)}async function*u(e){let{A:n}=e;if("then"in n&&(n=await n),n instanceof Uint8Array)yield n,e.u=f(n,0),e.l=n.length;else{e.l=0;const o=n.getReader();for(;;){const{value:n,done:i}=await o.read();if(i)break;e.u=f(n,e.u),e.l+=n.length,yield n}}}function l(o){const i=e(16);return i.setUint32(0,1347094280),i.setUint32(4,o.u,1),i.setUint32(8,o.l,1),i.setUint32(12,o.l,1),n(i)}function w(o,i){const a=e(46);return a.setUint32(0,1347092738),a.setUint32(4,352523264),a.setUint16(8,2048),d(o.i,a,12),a.setUint32(16,o.u,1),a.setUint32(20,o.l,1),a.setUint32(24,o.l,1),a.setUint16(28,o.o.length,1),a.setUint16(40,33204,1),a.setUint32(42,i,1),n(a)}/*export*/ const downloadZip=a=>new Response(i(async function*(o){const i=[];let a=0,r=0;for await(const e of o)yield y(e),yield e.o,yield*u(e),yield l(e),i.push(w(e,a)),i.push(e.o),r++,a+=46+e.o.length+e.l;let s=0;for(const e of i)yield e,s+=e.length;const A=e(22);A.setUint32(0,1347093766),A.setUint16(8,r,1),A.setUint16(10,r,1),A.setUint32(12,s,1),A.setUint32(16,a,1),yield n(A)}(async function*(e){for await(const n of e)n instanceof File||n instanceof Response?yield o(n):yield o(n.input,n.name,n.lastModified)}(a))),{headers:{"Content-Type":"application/zip","Content-Disposition":"attachment"}});
exported.downloadZip = downloadZip;
</script>